(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{2548:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/directories/[id]/listings/[listingId]",function(){return s(669)}])},4820:function(e,i,s){"use strict";s.d(i,{Z:function(){return d}});var t=s(5893);s(7294);var a=s(9008),r=s.n(a),l=s(1664),n=s.n(l);function d(e){let{children:i,title:s="SuperSimple.Directory",description:a="A platform for creating and managing directories",showHeader:l=!1,directoryId:d,directoryName:c}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)(r(),{children:[(0,t.jsx)("title",{children:s}),(0,t.jsx)("meta",{name:"description",content:a}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),l&&d&&(0,t.jsx)("nav",{className:"bg-gray-100 border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:c||"Directory"})})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[(0,t.jsx)(n(),{href:"/directories/".concat(d,"/listings"),className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"Organizations"}),(0,t.jsx)(n(),{href:"/about",className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"About"}),(0,t.jsx)(n(),{href:"/contact",className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"Contact"})]})})]})})}),(0,t.jsx)("main",{children:i}),l&&(0,t.jsx)("footer",{className:"bg-gray-100 border-t border-gray-200 mt-12",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"Directory"}),(0,t.jsx)("ul",{className:"space-y-2",children:d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/directories/".concat(d),className:"text-gray-600 hover:text-indigo-600",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/directories/".concat(d,"/listings"),className:"text-gray-600 hover:text-indigo-600",children:"Browse Listings"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/directories/".concat(d,"/submit"),className:"text-gray-600 hover:text-indigo-600",children:"Add Listing"})})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"About"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/about",className:"text-gray-600 hover:text-indigo-600",children:"About Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/contact",className:"text-gray-600 hover:text-indigo-600",children:"Contact"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/comparisons",className:"text-gray-600 hover:text-indigo-600",children:"Comparisons"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"Legal"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/terms",className:"text-gray-600 hover:text-indigo-600",children:"Terms of Use"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/privacy",className:"text-gray-600 hover:text-indigo-600",children:"Privacy Policy"})})]})]})]}),(0,t.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," SuperSimple.Directory. All rights reserved."]})})]})})]})}},9814:function(e,i,s){"use strict";s.d(i,{O:function(){return t}});let t=(0,s(6490).eI)("https://mzbodrwzhasiydvpvbid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16Ym9kcnd6aGFzaXlkdnB2YmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3MjA0NDAsImV4cCI6MjA1NjI5NjQ0MH0.4PtrUzyD5AUZzWqoWYpgMFlojhW2y9SH6-tPvahPxSo")},669:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return o}});var t=s(5893),a=s(7294),r=s(1163),l=s(1664),n=s.n(l),d=s(4820),c=s(9814);function o(){var e,i,s,l,o,x,m,h,g,v,u,j,p,f,N,y,b,w;let[I,A]=(0,a.useState)(null),[k,_]=(0,a.useState)(null),[z,O]=(0,a.useState)([]),[S,D]=(0,a.useState)(!0),{id:E,listingId:C}=(0,r.useRouter)().query;async function q(){try{D(!0);let{data:e,error:i}=await c.O.from("directories").select("*").eq("id",E).single();if(i)throw i;let{data:s,error:t}=await c.O.from("listings").select("*").eq("id",C).eq("directory_id",E).single();if(t)throw t;let{data:a,error:r}=await c.O.from("listings").select("*").eq("directory_id",E).neq("id",C).eq("status","approved").limit(10);r&&console.error("Error fetching related listings:",r),A(e),_(s),O(a||[])}catch(e){console.error("Error fetching data:",e)}finally{D(!1)}}if((0,a.useEffect)(()=>{E&&C&&q()},[E,C]),S)return(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})});if(!I||!k)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Listing not found"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"The listing you're looking for doesn't exist or has been removed."}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(n(),{href:"/directories/".concat(E),className:"text-indigo-600 hover:text-indigo-500",children:"Back to Directory"})})]})});let L=(null===(e=k.data)||void 0===e?void 0:e.name)||(null===(i=k.data)||void 0===i?void 0:i.title)||"Unnamed Listing",U=(null===(s=k.data)||void 0===s?void 0:s.category)||(null===(l=k.data)||void 0===l?void 0:l.type)||"",F=(null===(o=k.data)||void 0===o?void 0:o.description)||(null===(x=k.data)||void 0===x?void 0:x.summary)||"",J=(null===(m=k.data)||void 0===m?void 0:m.focusAreas)||(null===(h=k.data)||void 0===h?void 0:h.focus_areas)||"",P=(null===(g=k.data)||void 0===g?void 0:g.engagementTypes)||(null===(v=k.data)||void 0===v?void 0:v.engagement_types)||"",T=(null===(u=k.data)||void 0===u?void 0:u.location)||(null===(j=k.data)||void 0===j?void 0:j.locations)||"",B=e=>e?"string"==typeof e?e.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(e)?e:[String(e)]:[],X=B(J),Y=B(P),Z=B(T);return(0,t.jsx)(d.Z,{title:L,description:F||"Details for a listing in ".concat(I.name),showHeader:!0,directoryId:I.id,directoryName:I.name,children:(0,t.jsx)("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(n(),{href:"/directories/".concat(I.id,"/listings"),className:"text-indigo-600 hover:text-indigo-500",children:"← Back to Organizations"})}),(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:L}),U&&(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:U}),F&&(0,t.jsx)("p",{className:"text-gray-700 mb-6",children:F}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Organization Details"}),Z.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-700",children:"Locations:"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap",children:Z.map((e,i)=>(0,t.jsx)("span",{className:"location-tag",children:e},i))})]})]})}),X.length>0&&(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:(null===(N=I.schema)||void 0===N?void 0:null===(f=N.properties)||void 0===f?void 0:null===(p=f.focusAreas)||void 0===p?void 0:p.title)||"Focus Areas"}),(0,t.jsx)("div",{className:"flex flex-wrap",children:X.map((e,i)=>(0,t.jsx)("span",{className:"focus-area-tag",children:e},i))})]})}),Y.length>0&&(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:(null===(w=I.schema)||void 0===w?void 0:null===(b=w.properties)||void 0===b?void 0:null===(y=b.engagementTypes)||void 0===y?void 0:y.title)||"Engagement Types"}),(0,t.jsx)("div",{className:"flex flex-wrap",children:Y.map((e,i)=>(0,t.jsx)("span",{className:"engagement-type-tag",children:e},i))})]})}),(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Latest Updates"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No updates available at this time."})]})}),(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Reports and Articles"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No reports available at this time."})]})}),z.length>0&&(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:[z.length," Related Organizations"]}),(0,t.jsx)("ul",{className:"space-y-2",children:z.map(e=>{var i,s;return(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/directories/".concat(I.id,"/listings/").concat(e.id),className:"text-indigo-600 hover:text-indigo-800",children:(null===(i=e.data)||void 0===i?void 0:i.name)||(null===(s=e.data)||void 0===s?void 0:s.title)||"Unnamed Organization"})},e.id)})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(n(),{href:"/directories/".concat(I.id,"/listings/").concat(k.id,"/related"),className:"text-indigo-600 hover:text-indigo-800",children:"View all related organizations →"})})]})})]})})})}},9008:function(e,i,s){e.exports=s(3867)},1163:function(e,i,s){e.exports=s(3079)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=2548)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{6153:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/directories/[id]/listings/[listingId]/related",function(){return i(4254)}])},4820:function(e,s,i){"use strict";i.d(s,{Z:function(){return d}});var t=i(5893);i(7294);var r=i(9008),a=i.n(r),n=i(1664),l=i.n(n);function d(e){let{children:s,title:i="SuperSimple.Directory",description:r="A platform for creating and managing directories",showHeader:n=!1,directoryId:d,directoryName:c}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)(a(),{children:[(0,t.jsx)("title",{children:i}),(0,t.jsx)("meta",{name:"description",content:r}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),n&&d&&(0,t.jsx)("nav",{className:"bg-gray-100 border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:c||"Directory"})})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[(0,t.jsx)(l(),{href:"/directories/".concat(d,"/listings"),className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"Organizations"}),(0,t.jsx)(l(),{href:"/about",className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"About"}),(0,t.jsx)(l(),{href:"/contact",className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"Contact"})]})})]})})}),(0,t.jsx)("main",{children:s}),n&&(0,t.jsx)("footer",{className:"bg-gray-100 border-t border-gray-200 mt-12",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"Directory"}),(0,t.jsx)("ul",{className:"space-y-2",children:d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/directories/".concat(d),className:"text-gray-600 hover:text-indigo-600",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/directories/".concat(d,"/listings"),className:"text-gray-600 hover:text-indigo-600",children:"Browse Listings"})}),(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/directories/".concat(d,"/submit"),className:"text-gray-600 hover:text-indigo-600",children:"Add Listing"})})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"About"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/about",className:"text-gray-600 hover:text-indigo-600",children:"About Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/contact",className:"text-gray-600 hover:text-indigo-600",children:"Contact"})}),(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/comparisons",className:"text-gray-600 hover:text-indigo-600",children:"Comparisons"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"Legal"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/terms",className:"text-gray-600 hover:text-indigo-600",children:"Terms of Use"})}),(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:"/privacy",className:"text-gray-600 hover:text-indigo-600",children:"Privacy Policy"})})]})]})]}),(0,t.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," SuperSimple.Directory. All rights reserved."]})})]})})]})}},9814:function(e,s,i){"use strict";i.d(s,{O:function(){return t}});let t=(0,i(6490).eI)("https://mzbodrwzhasiydvpvbid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16Ym9kcnd6aGFzaXlkdnB2YmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3MjA0NDAsImV4cCI6MjA1NjI5NjQ0MH0.4PtrUzyD5AUZzWqoWYpgMFlojhW2y9SH6-tPvahPxSo")},4254:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return o}});var t=i(5893),r=i(7294),a=i(1163),n=i(1664),l=i.n(n),d=i(4820),c=i(9814);function o(){var e,s;let[i,n]=(0,r.useState)(null),[o,x]=(0,r.useState)(null),[m,h]=(0,r.useState)([]),[g,u]=(0,r.useState)(!0),{id:v,listingId:j}=(0,a.useRouter)().query;async function p(){try{u(!0);let{data:e,error:s}=await c.O.from("directories").select("*").eq("id",v).single();if(s)throw s;let{data:i,error:t}=await c.O.from("listings").select("*").eq("id",j).eq("directory_id",v).single();if(t)throw t;let{data:r,error:a}=await c.O.from("listings").select("*").eq("directory_id",v).neq("id",j).eq("status","approved").order("created_at",{ascending:!1});a&&console.error("Error fetching related listings:",a),n(e),x(i),h(r||[])}catch(e){console.error("Error fetching data:",e)}finally{u(!1)}}if((0,r.useEffect)(()=>{v&&j&&p()},[v,j]),g)return(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})});if(!i||!o)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization not found"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"The organization you're looking for doesn't exist or has been removed."}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(l(),{href:"/directories/".concat(v),className:"text-indigo-600 hover:text-indigo-500",children:"Back to Directory"})})]})});let f=(null===(e=o.data)||void 0===e?void 0:e.name)||(null===(s=o.data)||void 0===s?void 0:s.title)||"Unnamed Organization";return(0,t.jsx)(d.Z,{title:"Related Organizations | ".concat(f),description:"Organizations related to ".concat(f," in the ").concat(i.name," directory"),showHeader:!0,directoryId:i.id,directoryName:i.name,children:(0,t.jsx)("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(l(),{href:"/directories/".concat(i.id,"/listings/").concat(o.id),className:"text-indigo-600 hover:text-indigo-500",children:["← Back to ",f]})}),(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:["Organizations Related to ",f]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Browse all organizations in the ",i.name," directory that may be related to ",f,"."]})]})}),(0,t.jsx)("div",{className:"space-y-6",children:0===m.length?(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No related organizations found."})}):m.map(e=>{var s,r,a,n,d,c,o,x,m,h,g,u,v,j,p,f;let y=(null===(s=e.data)||void 0===s?void 0:s.name)||(null===(r=e.data)||void 0===r?void 0:r.title)||"Unnamed Organization",N=(null===(a=e.data)||void 0===a?void 0:a.description)||(null===(n=e.data)||void 0===n?void 0:n.summary)||"",b=(null===(d=e.data)||void 0===d?void 0:d.focusAreas)||(null===(c=e.data)||void 0===c?void 0:c.focus_areas)||"",w=(null===(o=e.data)||void 0===o?void 0:o.engagementTypes)||(null===(x=e.data)||void 0===x?void 0:x.engagement_types)||"",z=(null===(m=e.data)||void 0===m?void 0:m.location)||(null===(h=e.data)||void 0===h?void 0:h.locations)||"",I=e=>e?"string"==typeof e?e.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(e)?e:[String(e)]:[],k=I(b),A=I(w),O=I(z);return(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,t.jsxs)("div",{className:"px-6 py-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:(0,t.jsx)(l(),{href:"/directories/".concat(i.id,"/listings/").concat(e.id),className:"hover:text-indigo-600",children:y})}),N&&(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:N}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[k.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:[(null===(v=i.schema)||void 0===v?void 0:null===(u=v.properties)||void 0===u?void 0:null===(g=u.focusAreas)||void 0===g?void 0:g.title)||"Focus Areas",":"]}),(0,t.jsxs)("div",{className:"flex flex-wrap",children:[k.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"focus-area-tag",children:e},s)),k.length>3&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",k.length-3," more"]})]})]}),A.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:[(null===(f=i.schema)||void 0===f?void 0:null===(p=f.properties)||void 0===p?void 0:null===(j=p.engagementTypes)||void 0===j?void 0:j.title)||"Engagement Types",":"]}),(0,t.jsxs)("div",{className:"flex flex-wrap",children:[A.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"engagement-type-tag",children:e},s)),A.length>3&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",A.length-3," more"]})]})]}),O.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Locations:"}),(0,t.jsxs)("div",{className:"flex flex-wrap",children:[O.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"location-tag",children:e},s)),O.length>3&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",O.length-3," more"]})]})]})]})]})},e.id)})}),(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsx)(l(),{href:"/directories/".concat(i.id,"/listings"),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Back to All Organizations"})})]})})})}},9008:function(e,s,i){e.exports=i(3867)},1163:function(e,s,i){e.exports=i(3079)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=6153)}),_N_E=e.O()}]);
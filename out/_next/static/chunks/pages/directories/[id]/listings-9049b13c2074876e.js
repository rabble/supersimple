(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{7902:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/directories/[id]/listings",function(){return r(3930)}])},4820:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(5893);r(7294);var i=r(9008),a=r.n(i),n=r(1664),o=r.n(n);function l(e){let{children:t,title:r="SuperSimple.Directory",description:i="A platform for creating and managing directories",showHeader:n=!1,directoryId:l,directoryName:d}=e;return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:r}),(0,s.jsx)("meta",{name:"description",content:i}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),n&&l&&(0,s.jsx)("nav",{className:"bg-gray-100 border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:d||"Directory"})})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[(0,s.jsx)(o(),{href:"/directories/".concat(l,"/listings"),className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"Organizations"}),(0,s.jsx)(o(),{href:"/about",className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"About"}),(0,s.jsx)(o(),{href:"/contact",className:"text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",children:"Contact"})]})})]})})}),(0,s.jsx)("main",{children:t}),n&&(0,s.jsx)("footer",{className:"bg-gray-100 border-t border-gray-200 mt-12",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"Directory"}),(0,s.jsx)("ul",{className:"space-y-2",children:l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/directories/".concat(l),className:"text-gray-600 hover:text-indigo-600",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/directories/".concat(l,"/listings"),className:"text-gray-600 hover:text-indigo-600",children:"Browse Listings"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/directories/".concat(l,"/submit"),className:"text-gray-600 hover:text-indigo-600",children:"Add Listing"})})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"About"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/about",className:"text-gray-600 hover:text-indigo-600",children:"About Us"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/contact",className:"text-gray-600 hover:text-indigo-600",children:"Contact"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/comparisons",className:"text-gray-600 hover:text-indigo-600",children:"Comparisons"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 uppercase tracking-wider mb-4",children:"Legal"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/terms",className:"text-gray-600 hover:text-indigo-600",children:"Terms of Use"})}),(0,s.jsx)("li",{children:(0,s.jsx)(o(),{href:"/privacy",className:"text-gray-600 hover:text-indigo-600",children:"Privacy Policy"})})]})]})]}),(0,s.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," SuperSimple.Directory. All rights reserved."]})})]})})]})}},9814:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(6490).eI)("https://mzbodrwzhasiydvpvbid.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16Ym9kcnd6aGFzaXlkdnB2YmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3MjA0NDAsImV4cCI6MjA1NjI5NjQ0MH0.4PtrUzyD5AUZzWqoWYpgMFlojhW2y9SH6-tPvahPxSo")},3930:function(e,t,r){"use strict";r.r(t);var s=r(5893),i=r(7294),a=r(1163),n=r(1664),o=r.n(n),l=r(4820),d=r(9814);t.default=()=>{let e=(0,a.useRouter)(),{id:t,location:r,focusArea:n,engagementType:c}=e.query,[m,x]=(0,i.useState)(null),[h,g]=(0,i.useState)([]),[u,p]=(0,i.useState)(!0),[f,v]=(0,i.useState)({location:r||"",focusArea:n||"",engagementType:c||"",additionalFilters:{}});(0,i.useEffect)(()=>{if(!t)return;let r={};f.location&&(r.location=f.location),f.focusArea&&(r.focusArea=f.focusArea),f.engagementType&&(r.engagementType=f.engagementType),e.push({pathname:"/directories/".concat(t,"/listings"),query:Object.keys(r).length>0?r:{}},void 0,{shallow:!0}),y()},[t,f]);let y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{p(!0);let{data:s,error:i}=await d.O.from("directories").select("*").eq("id",t).single();if(i)throw i;let{data:a,error:n}=await d.O.from("listings").select("*").eq("directory_id",t).eq("status","approved").order("created_at",{ascending:!1});if(n)throw n;x(s),g(a||[]),r&&e&&!["location","focusAreas","engagementTypes"].includes(r)&&v(t=>({...t,additionalFilters:{...t.additionalFilters,[r]:e}}))}catch(e){console.error("Error fetching data:",e)}finally{p(!1)}},j=e=>Array.from(new Set(h.map(t=>{var r;let s=null===(r=t.data)||void 0===r?void 0:r[e];return s?"string"==typeof s?s.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(s)?s:[String(s)]:[]}).flat())).sort((e,t)=>e.localeCompare(t)),b=e=>e?"string"==typeof e?e.split(",").map(e=>e.trim()).filter(Boolean):Array.isArray(e)?e:[String(e)]:[],N=(e,t)=>{v(r=>({...r,[e]:r[e]===t?"":t}))},w=()=>{v({location:"",focusArea:"",engagementType:"",additionalFilters:{}}),e.push({pathname:e.pathname,query:{id:t}},void 0,{shallow:!0})},A={focusArea:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-700 border border-blue-200 mr-1 mb-1",engagementType:"px-2 py-1 text-xs rounded-full bg-green-50 text-green-700 border border-green-200 mr-1 mb-1",location:"px-2 py-1 text-xs rounded-full bg-purple-50 text-purple-700 border border-purple-200 mr-1 mb-1"},k=j("location"),T=j("focusAreas"),C=j("engagementTypes"),L=h.filter(e=>{var t,r,s;let i=!0,a=!0,n=!0,o=!0;if(f.location){let r=(null===(t=e.data)||void 0===t?void 0:t.location)||"";i="string"==typeof r&&r.toLowerCase().includes(f.location.toLowerCase())}if(f.focusArea){let t=(null===(r=e.data)||void 0===r?void 0:r.focusAreas)||"";a="string"==typeof t&&t.toLowerCase().includes(f.focusArea.toLowerCase())}if(f.engagementType){let t=(null===(s=e.data)||void 0===s?void 0:s.engagementTypes)||"";n="string"==typeof t&&t.toLowerCase().includes(f.engagementType.toLowerCase())}return Object.keys(f.additionalFilters).length>0&&(o=Object.entries(f.additionalFilters).every(t=>{var r;let[s,i]=t,a=(null===(r=e.data)||void 0===r?void 0:r[s])||"";return"string"==typeof a&&a.toLowerCase().includes(i.toLowerCase())})),i&&a&&n&&o});if(u&&!m)return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})});if(!m)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Directory not found"}),(0,s.jsx)("p",{className:"mt-2 text-gray-500",children:"The directory you're looking for doesn't exist or has been removed."}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(o(),{href:"/directories",className:"text-indigo-600 hover:text-indigo-500",children:"Back to Directories"})})]})});let F=(e,t,r,i,a)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,s.jsxs)("select",{id:e,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:i,onChange:e=>a(e.target.value),children:[(0,s.jsxs)("option",{value:"",children:["All ",t]}),r.map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))]})]}),z=(e,t,r,i)=>(0,s.jsx)("button",{className:"".concat(r," hover:bg-indigo-100 cursor-pointer transition-colors ").concat(t===e?"bg-blue-100 text-blue-800 border-blue-400 font-medium":""),onClick:i,title:"Filter by: ".concat(e),children:e}),O=e=>{var t,r,i,a,n,l,d,c,x,h;let g=(null===(t=e.data)||void 0===t?void 0:t.name)||(null===(r=e.data)||void 0===r?void 0:r.title)||"Unnamed Organization",u=(null===(i=e.data)||void 0===i?void 0:i.description)||(null===(a=e.data)||void 0===a?void 0:a.summary)||"",p=(null===(n=e.data)||void 0===n?void 0:n.focusAreas)||(null===(l=e.data)||void 0===l?void 0:l.focus_areas)||"",v=(null===(d=e.data)||void 0===d?void 0:d.engagementTypes)||(null===(c=e.data)||void 0===c?void 0:c.engagement_types)||"",y=(null===(x=e.data)||void 0===x?void 0:x.location)||(null===(h=e.data)||void 0===h?void 0:h.locations)||"",j=b(p),w=b(v),k=b(y);return(0,s.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,s.jsxs)("div",{className:"px-6 py-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:(0,s.jsx)(o(),{href:"/directories/".concat(m.id,"/listings/").concat(e.id),className:"hover:text-indigo-600",children:g})}),u&&(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:u}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[j.length>0&&(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700 flex items-center mr-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Focus Areas:"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 flex-1",children:j.map((e,t)=>z(e,f.focusArea,A.focusArea,()=>N("focusArea",e)))})]})}),w.length>0&&(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700 flex items-center mr-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Engagement Types:"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 flex-1",children:w.map((e,t)=>z(e,f.engagementType,A.engagementType,()=>N("engagementType",e)))})]})}),k.length>0&&(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700 flex items-center mr-2",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Locations:"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 flex-1",children:k.map((e,t)=>z(e,f.location,A.location,()=>N("location",e)))})]})})]})})]})},e.id)};return(0,s.jsx)(l.Z,{title:"Organizations | ".concat(m.name),description:"Browse organizations in the ".concat(m.name," directory"),showHeader:!0,directoryId:m.id,directoryName:m.name,children:(0,s.jsx)("div",{className:"bg-gray-50 min-h-screen py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Search Organizations"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Use the search to find and share resources and skills in your area or online. Choose one or more preferences for each drop down list to filter your search."})]}),(0,s.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden mb-8",children:(0,s.jsxs)("div",{className:"px-6 py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Filter Organizations"}),(f.location||f.focusArea||f.engagementType)&&(0,s.jsxs)("button",{onClick:w,className:"text-sm text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All Filters"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.schema&&m.schema.properties?(0,s.jsxs)(s.Fragment,{children:[m.schema.properties.location&&F("location",m.schema.properties.location.title||"Location",k,f.location,e=>N("location",e)),m.schema.properties.focusAreas&&F("focusArea",m.schema.properties.focusAreas.title||"Focus Areas",T,f.focusArea,e=>N("focusArea",e)),m.schema.properties.engagementTypes&&F("engagementType",m.schema.properties.engagementTypes.title||"Engagement Types",C,f.engagementType,e=>N("engagementType",e)),Object.entries(m.schema.properties).filter(e=>{let[t]=e;return!["location","focusAreas","engagementTypes","name","description","title","summary"].includes(t)}).slice(0,3).map(e=>{let[t,r]=e,i=h.map(e=>{var r;return null===(r=e.data)||void 0===r?void 0:r[t]}).filter(Boolean).filter((e,t,r)=>"string"==typeof e&&r.indexOf(e)===t).sort((e,t)=>e.localeCompare(t));return i.length>0?(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:r.title||t}),(0,s.jsxs)("select",{id:t,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:f.additionalFilters[t]||"",onChange:e=>{let r=e.target.value;r?y(r,t):v(e=>{let r={...e},s={...e.additionalFilters};return delete s[t],r.additionalFilters=s,r})},children:[(0,s.jsxs)("option",{value:"",children:["All ",r.title||t]}),i.map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))]})]},t):null})]}):(0,s.jsxs)(s.Fragment,{children:[F("location","Location",k,f.location,e=>N("location",e)),F("focusArea","Focus Areas",T,f.focusArea,e=>N("focusArea",e)),F("engagementType","Engagement Types",C,f.engagementType,e=>N("engagementType",e))]})})]})}),(0,s.jsxs)("div",{className:"space-y-8",children:[u&&(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}),!u&&0===h.length&&(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No organizations found matching your criteria."}),(0,s.jsx)(o(),{href:"/directories/".concat(m.id,"/submit"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Add an Organization"})]}),!u&&L.map(e=>O(e)),!u&&h.length>0&&0===L.length&&(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No organizations found matching your filter criteria."}),(0,s.jsx)("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Clear Filters"})]})]}),(0,s.jsx)("div",{className:"mt-12 text-center",children:(0,s.jsx)(o(),{href:"/directories/".concat(m.id,"/submit"),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Your Organization"})})]})})})}},9008:function(e,t,r){e.exports=r(3867)},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=7902)}),_N_E=e.O()}]);